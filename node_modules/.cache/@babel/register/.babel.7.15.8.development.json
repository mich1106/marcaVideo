{
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\MICHELLE\\\\Desktop\\\\videoClase\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\MICHELLE\\\\Desktop\\\\videoClase\",\"filename\":\"C:\\\\Users\\\\MICHELLE\\\\Desktop\\\\videoClase\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\MICHELLE\\\\Desktop\\\\videoClase\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\MICHELLE\\Desktop\\videoClase\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\MICHELLE\\Desktop\\videoClase",
      "filename": "C:\\Users\\MICHELLE\\Desktop\\videoClase\\app.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\Users\\MICHELLE\\Desktop\\videoClase",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\MICHELLE\\Desktop\\videoClase\\app.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\MICHELLE\\Desktop\\videoClase\\app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\MICHELLE\\Desktop\\videoClase\\",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar bodyParser = _interopRequireWildcard(require(\"body-parser\"));\n\nvar path = _interopRequireWildcard(require(\"path\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _worker_threads = require(\"worker_threads\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"dotenv\").config();\n\nconst storage = _multer.default.diskStorage({\n  destination: './uploads/',\n  filename: function (req, file, cb) {\n    cb(null, file.fieldname + '-' + Date.now() + path.extname(file.originalname));\n  }\n});\n\nconst upload = (0, _multer.default)({\n  dest: 'uploads',\n  storage: storage\n});\nconst app = (0, _express.default)();\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: false\n}));\napp.set(\"views\", path.join(__dirname, \"views\"));\napp.set(\"view engine\", \"hbs\");\napp.get(\"/\", (req, res) => {\n  res.render(\"index\");\n});\napp.post(\"/upload-video\", upload.single(\"ssvideo\"), (req, res) => {\n  if (_worker_threads.isMainThread) {\n    let thread = new _worker_threads.Worker(\"./threads/worker.js\", {\n      workerData: {\n        file: req.file.path,\n        filename: req.file.filename\n      }\n    });\n    thread.on(\"message\", data => {\n      res.download(data.file, req.file.filename);\n    });\n    thread.on(\"error\", err => {\n      console.log(\"Error en el thread\", err);\n    });\n    thread.on(\"exit\", code => {\n      if (code != 0) {\n        console(`El hilo se detuvo con el codigo de salida: ${code}`);\n      }\n    });\n  }\n});\nconst PORT = 3000;\napp.listen(PORT, () => {\n  console.log(`El servidor inicio por el puerto ${PORT}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJmaWxlbmFtZSIsInJlcSIsImZpbGUiLCJjYiIsImZpZWxkbmFtZSIsIkRhdGUiLCJub3ciLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsImRlc3QiLCJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNldCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJnZXQiLCJyZXMiLCJyZW5kZXIiLCJwb3N0Iiwic2luZ2xlIiwiaXNNYWluVGhyZWFkIiwidGhyZWFkIiwiV29ya2VyIiwid29ya2VyRGF0YSIsIm9uIiwiZGF0YSIsImRvd25sb2FkIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNvZGUiLCJQT1JUIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQSxNQUFNQyxPQUFPLEdBQUdDLGdCQUFPQyxXQUFQLENBQW1CO0FBQy9CQyxFQUFBQSxXQUFXLEVBQUUsWUFEa0I7QUFFL0JDLEVBQUFBLFFBQVEsRUFBRSxVQUFTQyxHQUFULEVBQWNDLElBQWQsRUFBb0JDLEVBQXBCLEVBQXdCO0FBQzlCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFPRCxJQUFJLENBQUNFLFNBQUwsR0FBaUIsR0FBakIsR0FBdUJDLElBQUksQ0FBQ0MsR0FBTCxFQUF2QixHQUFvQ0MsSUFBSSxDQUFDQyxPQUFMLENBQWFOLElBQUksQ0FBQ08sWUFBbEIsQ0FBM0MsQ0FBRjtBQUNIO0FBSjhCLENBQW5CLENBQWhCOztBQU9BLE1BQU1DLE1BQU0sR0FBRyxxQkFBTztBQUFFQyxFQUFBQSxJQUFJLEVBQUUsU0FBUjtBQUFtQmYsRUFBQUEsT0FBTyxFQUFFQTtBQUE1QixDQUFQLENBQWY7QUFFQSxNQUFNZ0IsR0FBRyxHQUFHLHVCQUFaO0FBQ0FBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRQyxVQUFVLENBQUNDLElBQVgsRUFBUjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUUMsVUFBVSxDQUFDRSxVQUFYLENBQXNCO0FBQUVDLEVBQUFBLFFBQVEsRUFBQztBQUFYLENBQXRCLENBQVI7QUFFQUwsR0FBRyxDQUFDTSxHQUFKLENBQVEsT0FBUixFQUFpQlgsSUFBSSxDQUFDWSxJQUFMLENBQVVDLFNBQVYsRUFBcUIsT0FBckIsQ0FBakI7QUFDQVIsR0FBRyxDQUFDTSxHQUFKLENBQVEsYUFBUixFQUF1QixLQUF2QjtBQUVBTixHQUFHLENBQUNTLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ3BCLEdBQUQsRUFBTXFCLEdBQU4sS0FBYztBQUN2QkEsRUFBQUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsT0FBWDtBQUNILENBRkQ7QUFJQVgsR0FBRyxDQUFDWSxJQUFKLENBQVMsZUFBVCxFQUEwQmQsTUFBTSxDQUFDZSxNQUFQLENBQWMsU0FBZCxDQUExQixFQUFvRCxDQUFDeEIsR0FBRCxFQUFNcUIsR0FBTixLQUFjO0FBQzlELE1BQUdJLDRCQUFILEVBQWlCO0FBRWIsUUFBSUMsTUFBTSxHQUFHLElBQUlDLHNCQUFKLENBQVcscUJBQVgsRUFBa0M7QUFDM0NDLE1BQUFBLFVBQVUsRUFBRTtBQUNSM0IsUUFBQUEsSUFBSSxFQUFFRCxHQUFHLENBQUNDLElBQUosQ0FBU0ssSUFEUDtBQUVSUCxRQUFBQSxRQUFRLEVBQUVDLEdBQUcsQ0FBQ0MsSUFBSixDQUFTRjtBQUZYO0FBRCtCLEtBQWxDLENBQWI7QUFPQTJCLElBQUFBLE1BQU0sQ0FBQ0csRUFBUCxDQUFVLFNBQVYsRUFBc0JDLElBQUQsSUFBVTtBQUMzQlQsTUFBQUEsR0FBRyxDQUFDVSxRQUFKLENBQWFELElBQUksQ0FBQzdCLElBQWxCLEVBQXdCRCxHQUFHLENBQUNDLElBQUosQ0FBU0YsUUFBakM7QUFDSCxLQUZEO0FBSUEyQixJQUFBQSxNQUFNLENBQUNHLEVBQVAsQ0FBVSxPQUFWLEVBQW9CRyxHQUFELElBQVM7QUFDeEJDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG9CQUFaLEVBQWtDRixHQUFsQztBQUNILEtBRkQ7QUFJQU4sSUFBQUEsTUFBTSxDQUFDRyxFQUFQLENBQVUsTUFBVixFQUFtQk0sSUFBRCxJQUFVO0FBQ3hCLFVBQUdBLElBQUksSUFBRyxDQUFWLEVBQWE7QUFDVEYsUUFBQUEsT0FBTyxDQUFFLDhDQUE2Q0UsSUFBSyxFQUFwRCxDQUFQO0FBQ0g7QUFDSixLQUpEO0FBTUg7QUFFSixDQTFCRDtBQTRCQSxNQUFNQyxJQUFJLEdBQUcsSUFBYjtBQUNBekIsR0FBRyxDQUFDMEIsTUFBSixDQUFXRCxJQUFYLEVBQWlCLE1BQUs7QUFDbEJILEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLG9DQUFtQ0UsSUFBSyxFQUFyRDtBQUNILENBRkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxNSUNIRUxMRVxcRGVza3RvcFxcdmlkZW9DbGFzZVxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCAqIGFzIGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XHJcbmltcG9ydHtXb3JrZXIsaXNNYWluVGhyZWFkLHdvcmtlckRhdGF9IGZyb20nd29ya2VyX3RocmVhZHMnO1xyXG5cclxucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb246ICcuL3VwbG9hZHMvJyxcclxuICAgIGZpbGVuYW1lOiBmdW5jdGlvbihyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgICAgY2IobnVsbCwgZmlsZS5maWVsZG5hbWUgKyAnLScgKyBEYXRlLm5vdygpICsgcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgZGVzdDogJ3VwbG9hZHMnLCBzdG9yYWdlOiBzdG9yYWdlfSk7XHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOmZhbHNlIH0pKTtcclxuXHJcbmFwcC5zZXQoXCJ2aWV3c1wiLCBwYXRoLmpvaW4oX19kaXJuYW1lLCBcInZpZXdzXCIpKTtcclxuYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiaGJzXCIpO1xyXG5cclxuYXBwLmdldChcIi9cIiwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKFwiaW5kZXhcIik7XHJcbn0pO1xyXG5cclxuYXBwLnBvc3QoXCIvdXBsb2FkLXZpZGVvXCIsIHVwbG9hZC5zaW5nbGUoXCJzc3ZpZGVvXCIpLCAocmVxLCByZXMpID0+IHtcclxuICAgIGlmKGlzTWFpblRocmVhZCkge1xyXG5cclxuICAgICAgICBsZXQgdGhyZWFkID0gbmV3IFdvcmtlcihcIi4vdGhyZWFkcy93b3JrZXIuanNcIiwge1xyXG4gICAgICAgICAgICB3b3JrZXJEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBmaWxlOiByZXEuZmlsZS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJlcS5maWxlLmZpbGVuYW1lXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhyZWFkLm9uKFwibWVzc2FnZVwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICByZXMuZG93bmxvYWQoZGF0YS5maWxlLCByZXEuZmlsZS5maWxlbmFtZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRocmVhZC5vbihcImVycm9yXCIsIChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBlbiBlbCB0aHJlYWRcIiwgZXJyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhyZWFkLm9uKFwiZXhpdFwiLCAoY29kZSkgPT4ge1xyXG4gICAgICAgICAgICBpZihjb2RlICE9MCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZShgRWwgaGlsbyBzZSBkZXR1dm8gY29uIGVsIGNvZGlnbyBkZSBzYWxpZGE6ICR7Y29kZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG4gICAgXHJcbn0pO1xyXG5cclxuY29uc3QgUE9SVCA9IDMwMDA7XHJcbmFwcC5saXN0ZW4oUE9SVCwgKCk9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhgRWwgc2Vydmlkb3IgaW5pY2lvIHBvciBlbCBwdWVydG8gJHtQT1JUfWApO1xyXG59KTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "require",
        "config",
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "filename",
        "req",
        "file",
        "cb",
        "fieldname",
        "Date",
        "now",
        "path",
        "extname",
        "originalname",
        "upload",
        "dest",
        "app",
        "use",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "set",
        "join",
        "__dirname",
        "get",
        "res",
        "render",
        "post",
        "single",
        "isMainThread",
        "thread",
        "Worker",
        "workerData",
        "on",
        "data",
        "download",
        "err",
        "console",
        "log",
        "code",
        "PORT",
        "listen"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,EAAE,YADkB;AAE/BC,EAAAA,QAAQ,EAAE,UAASC,GAAT,EAAcC,IAAd,EAAoBC,EAApB,EAAwB;AAC9BA,IAAAA,EAAE,CAAC,IAAD,EAAOD,IAAI,CAACE,SAAL,GAAiB,GAAjB,GAAuBC,IAAI,CAACC,GAAL,EAAvB,GAAoCC,IAAI,CAACC,OAAL,CAAaN,IAAI,CAACO,YAAlB,CAA3C,CAAF;AACH;AAJ8B,CAAnB,CAAhB;;AAOA,MAAMC,MAAM,GAAG,qBAAO;AAAEC,EAAAA,IAAI,EAAE,SAAR;AAAmBf,EAAAA,OAAO,EAAEA;AAA5B,CAAP,CAAf;AAEA,MAAMgB,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,UAAU,CAACC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQC,UAAU,CAACE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAC;AAAX,CAAtB,CAAR;AAEAL,GAAG,CAACM,GAAJ,CAAQ,OAAR,EAAiBX,IAAI,CAACY,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAR,GAAG,CAACM,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AAEAN,GAAG,CAACS,GAAJ,CAAQ,GAAR,EAAa,CAACpB,GAAD,EAAMqB,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,MAAJ,CAAW,OAAX;AACH,CAFD;AAIAX,GAAG,CAACY,IAAJ,CAAS,eAAT,EAA0Bd,MAAM,CAACe,MAAP,CAAc,SAAd,CAA1B,EAAoD,CAACxB,GAAD,EAAMqB,GAAN,KAAc;AAC9D,MAAGI,4BAAH,EAAiB;AAEb,QAAIC,MAAM,GAAG,IAAIC,sBAAJ,CAAW,qBAAX,EAAkC;AAC3CC,MAAAA,UAAU,EAAE;AACR3B,QAAAA,IAAI,EAAED,GAAG,CAACC,IAAJ,CAASK,IADP;AAERP,QAAAA,QAAQ,EAAEC,GAAG,CAACC,IAAJ,CAASF;AAFX;AAD+B,KAAlC,CAAb;AAOA2B,IAAAA,MAAM,CAACG,EAAP,CAAU,SAAV,EAAsBC,IAAD,IAAU;AAC3BT,MAAAA,GAAG,CAACU,QAAJ,CAAaD,IAAI,CAAC7B,IAAlB,EAAwBD,GAAG,CAACC,IAAJ,CAASF,QAAjC;AACH,KAFD;AAIA2B,IAAAA,MAAM,CAACG,EAAP,CAAU,OAAV,EAAoBG,GAAD,IAAS;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,GAAlC;AACH,KAFD;AAIAN,IAAAA,MAAM,CAACG,EAAP,CAAU,MAAV,EAAmBM,IAAD,IAAU;AACxB,UAAGA,IAAI,IAAG,CAAV,EAAa;AACTF,QAAAA,OAAO,CAAE,8CAA6CE,IAAK,EAApD,CAAP;AACH;AACJ,KAJD;AAMH;AAEJ,CA1BD;AA4BA,MAAMC,IAAI,GAAG,IAAb;AACAzB,GAAG,CAAC0B,MAAJ,CAAWD,IAAX,EAAiB,MAAK;AAClBH,EAAAA,OAAO,CAACC,GAAR,CAAa,oCAAmCE,IAAK,EAArD;AACH,CAFD",
      "sourceRoot": "C:\\Users\\MICHELLE\\Desktop\\videoClase\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport * as bodyParser from 'body-parser';\r\nimport * as path from 'path';\r\nimport multer from 'multer';\r\nimport{Worker,isMainThread,workerData} from'worker_threads';\r\n\r\nrequire(\"dotenv\").config();\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: './uploads/',\r\n    filename: function(req, file, cb) {\r\n        cb(null, file.fieldname + '-' + Date.now() + path.extname(file.originalname));\r\n    }\r\n});\r\n\r\nconst upload = multer({ dest: 'uploads', storage: storage});\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended:false }));\r\n\r\napp.set(\"views\", path.join(__dirname, \"views\"));\r\napp.set(\"view engine\", \"hbs\");\r\n\r\napp.get(\"/\", (req, res) => {\r\n    res.render(\"index\");\r\n});\r\n\r\napp.post(\"/upload-video\", upload.single(\"ssvideo\"), (req, res) => {\r\n    if(isMainThread) {\r\n\r\n        let thread = new Worker(\"./threads/worker.js\", {\r\n            workerData: {\r\n                file: req.file.path,\r\n                filename: req.file.filename\r\n            }\r\n        });\r\n\r\n        thread.on(\"message\", (data) => {\r\n            res.download(data.file, req.file.filename);\r\n        });\r\n\r\n        thread.on(\"error\", (err) => {\r\n            console.log(\"Error en el thread\", err);\r\n        });\r\n\r\n        thread.on(\"exit\", (code) => {\r\n            if(code !=0) {\r\n                console(`El hilo se detuvo con el codigo de salida: ${code}`);\r\n            }\r\n        })\r\n\r\n    }\r\n    \r\n});\r\n\r\nconst PORT = 3000;\r\napp.listen(PORT, ()=> {\r\n    console.log(`El servidor inicio por el puerto ${PORT}`);\r\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1635384377886
  }
}